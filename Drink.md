# 有酒处处神仙府，无酒天阙如天牢

## 结构

### 葫芦

- 酒的容器
- 有盛酒量上限，不同葫芦的盛酒量不同
- 特殊葫芦有饮用时的额外效果
- 特殊葫芦有饮尽时的额外效果
- 会缓慢自动恢复酒量
- 可以加入泡酒物

### 酒

- 决定饮酒时的血量恢复比例
- 特殊酒有饮用时的额外效果
- 酒决定泡酒物的数量上限，不同酒的泡酒物数量不同

### 泡酒物

- 提供饮用时的额外效果

## 饮酒逻辑

- 危险时自动饮用
    - 实时判断角色血量，当玩家血量比例小于 x% 时，若有酒，饮酒，直到血量超过 x%
- 时间自动饮用
    - 不判断角色当前血量，经过一定时间后，若有酒，饮酒
    - 危险时自动饮酒触发后，会重置该逻辑的时间
- 手动饮酒
    - 玩家通过按钮手动触发一次饮酒

## 酒量恢复

- 葫芦自动恢复
  - 根据葫芦的冷却时间自动恢复酒量，每次恢复1口酒量
- 敌人掉落酒滴
  - 一般敌人有 x% 的概率掉落酒滴，恢复1口酒量
  - 特殊敌人有 y% 的概率掉落酒滴，恢复 z 口酒量

## 酒与葫芦升级

参照工坊系统
